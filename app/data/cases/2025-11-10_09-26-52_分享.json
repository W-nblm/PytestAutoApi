[
  {
    "用例标题": "验证分享功能不受云服务有效期影响",
    "前置条件": "1. 用户登录APP。\n2. 用户云服务已过期。\n3. 首页存在设备图片。",
    "测试步骤": [
      "1. 在首页找到一张设备图片。",
      "2. 点击图片下方的分享按钮。"
    ],
    "预期结果": "可以正常弹出分享窗口，分享流程不受影响。",
    "优先级": "P0",
    "测试类型": "功能测试"
  },
  {
    "用例标题": "验证被分享用户可分享被分享设备的图片",
    "前置条件": "1. 用户A分享设备给用户B。\n2. 用户B登录APP，并已接受分享。\n3. 用户B首页存在被分享设备的图片。",
    "测试步骤": [
      "1. 用户B在首页找到被分享设备的图片。",
      "2. 点击图片下方的分享按钮。"
    ],
    "预期结果": "用户B可以正常弹出分享窗口，并进行分享操作。",
    "优先级": "P1",
    "测试类型": "功能测试"
  },
  {
    "用例标题": "验证首页图片分享按钮UI",
    "前置条件": "1. 用户登录APP。\n2. 首页存在设备图片。",
    "测试步骤": [
      "1. 观察首页图片下方的按钮布局。"
    ],
    "预期结果": "在收藏按钮右侧，正确显示新增的分享按钮。",
    "优先级": "P2",
    "测试类型": "UI测试"
  },
  {
    "用例标题": "验证安装全部指定第三方应用时，分享弹窗展示正确",
    "前置条件": "1. 用户手机已安装Facebook, X, Instagram, YouTube, TikTop。\n2. 用户登录APP，首页有图片。",
    "测试步骤": [
      "1. 点击首页图片的分享按钮。"
    ],
    "预期结果": "1. 页面底部弹出分享弹窗。\n2. 弹窗标题为“分享”。\n3. 弹窗右上角有删除icon。\n4. 弹窗内依次展示Facebook, X, Instagram, YouTube, TikTop五个应用图标。",
    "优先级": "P0",
    "测试类型": "功能测试"
  },
  {
    "用例标题": "验证仅安装部分指定第三方应用时，分享弹窗按需展示",
    "前置条件": "1. 用户手机只安装了Facebook和Instagram。\n2. 用户登录APP，首页有图片。",
    "测试步骤": [
      "1. 点击首页图片的分享按钮。"
    ],
    "预期结果": "页面底部弹出的分享窗口中，只展示Facebook和Instagram两个应用图标。",
    "优先级": "P1",
    "测试类型": "兼容性测试"
  },
  {
    "用例标题": "验证未安装任何指定第三方应用时，分享弹窗的展示",
    "前置条件": "1. 用户手机未安装任何指定的第三方应用。\n2. 用户登录APP，首页有图片。",
    "测试步骤": [
      "1. 点击首页图片的分享按钮。"
    ],
    "预期结果": "页面底部弹出的分享窗口中，不展示任何可分享的应用图标（或提示“未找到可分享的应用”）。",
    "优先级": "P1",
    "测试类型": "功能测试"
  },
  {
    "用例标题": "验证点击分享弹窗右上角删除icon可关闭弹窗",
    "前置条件": "1. 用户登录APP，首页有图片。\n2. 已点击分享按钮，弹窗已展示。",
    "测试步骤": [
      "1. 点击分享弹窗右上角的删除icon。"
    ],
    "预期结果": "分享弹窗被关闭/隐藏。",
    "优先级": "P1",
    "测试类型": "UI测试"
  },
  {
    "用例标题": "验证分享成功全流程（以Facebook为例）",
    "前置条件": "1. 用户手机已安装Facebook并已登录。\n2. 用户登录APP，首页有图片。\n3. 网络连接正常。",
    "测试步骤": [
      "1. 点击首页图片的分享按钮，弹出分享窗口。",
      "2. 点击Facebook应用图标。",
      "3. 观察页面提示，等待跳转到Facebook分享页面。",
      "4. 在Facebook分享页面完成分享操作。",
      "5. 检查手机系统相册。"
    ],
    "预期结果": "1. 点击Facebook后，页面toast提示“分享准备中”。\n2. 图片成功下载到本地相册。\n3. 成功跳转到Facebook的分享窗口。\n4. 用户分享成功后，返回APP。\n5. 之前下载到本地相册的图片被自动删除。",
    "优先级": "P0",
    "测试类型": "功能测试"
  },
  {
    "用例标题": "验证分享准备中图片下载超时",
    "前置条件": "1. 用户手机已安装任一指定第三方应用。\n2. 用户登录APP，首页有图片。\n3. 模拟网络慢或中断，使下载无法在3秒内完成。",
    "测试步骤": [
      "1. 点击首页图片的分享按钮。",
      "2. 点击任一第三方应用图标。",
      "3. 观察页面提示。"
    ],
    "预期结果": "1. 页面toast提示“分享准备中”。\n2. 3秒后，toast自动隐藏。\n3. 页面toast提示“分享失败，请稍后重试”，持续3秒后自动隐藏。\n4. 分享流程中断。",
    "优先级": "P1",
    "测试类型": "异常测试"
  },
  {
    "用例标题": "验证分享准备中图片下载失败",
    "前置条件": "1. 用户手机已安装任一指定第三方应用。\n2. 用户登录APP，首页有图片。\n3. 模拟下载失败场景（如无存储权限、磁盘空间满）。",
    "测试步骤": [
      "1. 点击首页图片的分享按钮。",
      "2. 点击任一第三方应用图标。",
      "3. 观察页面提示。"
    ],
    "预期结果": "1. 页面toast提示“分享准备中”。\n2. 下载失败后，页面立即toast提示“分享失败，请稍后重试”，持续3秒后自动隐藏。",
    "优先级": "P1",
    "测试类型": "异常测试"
  },
  {
    "用例标题": "验证调用第三方服务接口失败或超时",
    "前置条件": "1. 用户登录APP，首页有图片。\n2. 图片已成功下载到本地。\n3. 模拟调用第三方服务接口网络超时或返回错误码。",
    "测试步骤": [
      "1. 点击首页图片的分享按钮。",
      "2. 点击任一第三方应用图标。"
    ],
    "预期结果": "1. 第三方APP的分享窗口未被拉起或自动隐藏。\n2. 页面toast提示“分享失败，请稍后重试”，持续3秒后自动隐藏。\n3. 本地下载的图片被自动删除。",
    "优先级": "P1",
    "测试类型": "异常测试"
  },
  {
    "用例标题": "验证用户在第三方分享窗口主动取消分享",
    "前置条件": "1. 用户登录APP，首页有图片。\n2. 图片已成功下载，并已成功拉起第三方APP的分享窗口。",
    "测试步骤": [
      "1. 在第三方APP的分享窗口中，点击关闭或取消按钮，返回到原APP。"
    ],
    "预期结果": "1. 返回原APP后，页面toast提示“取消分享”，持续3秒后自动隐藏。\n2. 本地下载的图片被自动删除。",
    "优先级": "P0",
    "测试类型": "功能测试"
  },
  {
    "用例标题": "验证分享流程结束后本地下载数据被物理删除",
    "前置条件": "1. 用户登录APP，首页有图片。",
    "测试步骤": [
      "1. 开启手机文件管理器，监控系统相册目录。",
      "2. 在APP内发起一次分享操作（无论成功、失败或取消）。",
      "3. 操作结束后，返回文件管理器刷新查看相册目录。"
    ],
    "预期结果": "在分享流程中，图片文件会短暂出现在系统相册；在整个分享流程（成功、失败、取消）结束后，该图片文件被从系统相册中删除。",
    "优先级": "P1",
    "测试类型": "功能测试"
  }
]