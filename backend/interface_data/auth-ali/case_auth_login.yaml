case_common:
  allureEpic: 标题：platform-Cloud-Plus微服务权限管理系统_接口文档
  allureFeature: 未分类
  allureStory: 登录方法
case_auth_login_01:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 成功登录（正向场景）
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: testuser
    password: password123
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 200
    message: 状态码不为200
  - name: 校验响应消息包含"成功"
    jsonpath: $.msg
    type: contains
    value: 登录成功
    message: 响应消息未包含"登录成功"
case_auth_login_02_invalid_credentials:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 用户名或密码错误（异常场景）
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: invaliduser
    password: wrongpassword
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 状态码不应为200
  - name: 校验响应消息包含"错误"或"失败"
    jsonpath: $.msg
    type: contains
    value: 用户名或密码错误
    message: 响应消息未包含"用户名或密码错误"
case_auth_login_03_missing_username:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 缺少用户名参数（异常场景）
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    password: password123
  dependence_case: []
  assert:
  - name: 校验接口状态码为400或业务错误码
    jsonpath: $.code
    type: eq
    value: 400
    message: 状态码不为400
  - name: 校验响应消息包含"缺少"或"参数错误"
    jsonpath: $.msg
    type: contains
    value: 缺少必要参数
    message: 响应消息未包含"缺少必要参数"
  - name: 校验paramMsg对象存在（用于参数校验失败）
    jsonpath: $.paramMsg
    type: not_eq
    value: null
    message: paramMsg对象不存在，预期有参数校验信息
case_auth_login_04_missing_password:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 缺少用户密码参数（异常场景）
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: testuser
  dependence_case: []
  assert:
  - name: 校验接口状态码为400或业务错误码
    jsonpath: $.code
    type: eq
    value: 400
    message: 状态码不为400
  - name: 校验响应消息包含"缺少"或"参数错误"
    jsonpath: $.msg
    type: contains
    value: 缺少必要参数
    message: 响应消息未包含"缺少必要参数"
  - name: 校验paramMsg对象存在（用于参数校验失败）
    jsonpath: $.paramMsg
    type: not_eq
    value: null
    message: paramMsg对象不存在，预期有参数校验信息
case_auth_login_05_empty_credentials:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 用户名和密码为空字符串（异常场景）
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: ''
    password: ''
  dependence_case: []
  assert:
  - name: 校验接口状态码为400或业务错误码
    jsonpath: $.code
    type: eq
    value: 400
    message: 状态码不为400
  - name: 校验响应消息包含"不能为空"或"参数校验失败"
    jsonpath: $.msg
    type: contains
    value: 参数校验失败
    message: 响应消息未包含"参数校验失败"
  - name: 校验paramMsg对象存在且包含特定错误信息
    jsonpath: $.paramMsg.username
    type: contains
    value: 不能为空
    message: paramMsg中未指出用户名不能为空
  - name: 校验paramMsg对象存在且包含特定错误信息
    jsonpath: $.paramMsg.password
    type: contains
    value: 不能为空
    message: paramMsg中未指出密码不能为空
