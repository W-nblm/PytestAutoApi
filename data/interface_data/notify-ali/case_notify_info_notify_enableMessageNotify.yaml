case_common:
  allureEpic: 标题：platform-Cloud-Plus微服务权限管理系统_接口文档
  allureFeature: 未分类
  allureStory: 消息开关上报接口
case_notify_info_notify_enableMessageNotify_01:
  host: ${{host()}}
  url: /notify/info/notify/enableMessageNotify
  method: POST
  detail: 正向场景 - 成功上报消息开关，包含所有可选参数
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    userId: ${{uuid()}}
    appType: '1'
    devId: dev-id-001
    messageEnableListVos:
    - notifyEnable: '1'
      deviceNotifyEnable: '1'
      accountMessageEnable: '1'
      disturbEnable: '0'
    enableJson: '{"woBirdSystemEnable": "1", "woBirdAlertEnable": "0"}'
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 200
    message: 状态码不为200
  - name: 校验响应消息
    jsonpath: $.msg
    type: contains
    value: 成功
  - name: 校验数据对象为True
    jsonpath: $.data
    type: eq
    value: true
case_notify_info_notify_enableMessageNotify_02:
  host: ${{host()}}
  url: /notify/info/notify/enableMessageNotify
  method: POST
  detail: 异常场景 - 缺少必填参数userId
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    appType: '2'
    devId: dev-id-002
    messageEnableListVos:
    - notifyEnable: '0'
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 470
    message: 状态码不为470 (缺少userId)
  - name: 校验响应消息包含错误信息
    jsonpath: $.msg
    type: contains
    value: 失败
  - name: 校验paramMsg中包含userId相关的错误信息
    jsonpath: $.paramMsg.userId
    type: contains
    value: 不能为空
case_notify_info_notify_enableMessageNotify_03:
  host: ${{host()}}
  url: /notify/info/notify/enableMessageNotify
  method: POST
  detail: 异常场景 - 缺少必填参数appType
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    userId: ${{uuid()}}
    devId: dev-id-003
    messageEnableListVos:
    - notifyEnable: '1'
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 470
    message: 状态码不为470 (缺少appType)
  - name: 校验响应消息包含错误信息
    jsonpath: $.msg
    type: contains
    value: 失败
  - name: 校验paramMsg中包含appType相关的错误信息
    jsonpath: $.paramMsg.appType
    type: contains
    value: 不能为空
case_notify_info_notify_enableMessageNotify_04:
  host: ${{host()}}
  url: /notify/info/notify/enableMessageNotify
  method: POST
  detail: 异常场景 - appType值不符合正则校验
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    userId: ${{uuid()}}
    appType: '4'
    devId: dev-id-004
    messageEnableListVos:
    - notifyEnable: '1'
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 470
    message: 状态码不为470 (appType值非法)
  - name: 校验响应消息包含错误信息
    jsonpath: $.msg
    type: contains
    value: 失败
  - name: 校验paramMsg中包含appType相关的错误信息
    jsonpath: $.paramMsg.appType
    type: contains
    value: 不合法
