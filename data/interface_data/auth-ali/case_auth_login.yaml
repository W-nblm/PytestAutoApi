case_common:
  allureEpic: 标题：platform-Cloud-Plus微服务权限管理系统_接口文档
  allureFeature: 未分类
  allureStory: 登录方法
case_auth_login_01_success:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 正向场景：用户成功登录
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: test_user
    password: test_password
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 200
    message: 状态码不为200
  - name: 校验响应消息
    jsonpath: $.msg
    type: contains
    value: 成功
    message: 响应消息未包含"成功"
  - name: 校验响应数据不为空
    jsonpath: $.data
    type: not_eq
    value: null
    message: 登录成功后data字段不应为空
case_auth_login_02_invalid_credentials:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 异常场景：用户名或密码错误
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: non_existent_user
    password: wrong_password
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 业务状态码不应为200
  - name: 校验响应消息包含错误信息
    jsonpath: $.msg
    type: contains
    value: 错误
    message: 响应消息未包含"错误"
case_auth_login_03_missing_username:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 异常场景：缺少用户名
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    password: test_password
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 业务状态码不应为200
  - name: 校验响应消息包含参数错误信息
    jsonpath: $.msg
    type: contains
    value: 不能为空
    message: 响应消息未包含"不能为空"
  - name: 校验paramMsg包含用户名错误提示
    jsonpath: $.paramMsg.username
    type: contains
    value: 不能为空
    message: paramMsg未返回用户名不能为空提示
case_auth_login_04_missing_password:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 异常场景：缺少密码
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: test_user
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 业务状态码不应为200
  - name: 校验响应消息包含参数错误信息
    jsonpath: $.msg
    type: contains
    value: 不能为空
    message: 响应消息未包含"不能为空"
  - name: 校验paramMsg包含密码错误提示
    jsonpath: $.paramMsg.password
    type: contains
    value: 不能为空
    message: paramMsg未返回密码不能为空提示
case_auth_login_05_empty_username:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 异常场景：用户名为空字符串
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: ''
    password: test_password
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 业务状态码不应为200
  - name: 校验响应消息包含参数错误信息
    jsonpath: $.msg
    type: contains
    value: 不能为空
    message: 响应消息未包含"不能为空"
  - name: 校验paramMsg包含用户名错误提示
    jsonpath: $.paramMsg.username
    type: contains
    value: 不能为空
    message: paramMsg未返回用户名不能为空提示
case_auth_login_06_empty_password:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 异常场景：密码为空字符串
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: test_user
    password: ''
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 业务状态码不应为200
  - name: 校验响应消息包含参数错误信息
    jsonpath: $.msg
    type: contains
    value: 不能为空
    message: 响应消息未包含"不能为空"
  - name: 校验paramMsg包含密码错误提示
    jsonpath: $.paramMsg.password
    type: contains
    value: 不能为空
    message: paramMsg未返回密码不能为空提示
case_auth_login_07_empty_body:
  host: ${{host()}}
  url: /auth/login
  method: POST
  detail: 登录方法 - 异常场景：请求体为空
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data: {}
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 业务状态码不应为200
  - name: 校验响应消息包含错误信息
    jsonpath: $.msg
    type: contains
    value: 不能为空
    message: 响应消息未包含"不能为空"
