case_common:
  allureEpic: 标题：platform-Cloud-Plus微服务权限管理系统_接口文档
  allureFeature: 未分类
  allureStory: 登录方法-内部接口,无验证码
case_auth_innerLogin_01_success:
  host: ${{host()}}
  url: /auth/innerLogin
  method: POST
  detail: 登录方法-内部接口,无验证码 - 正常用户登录成功
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: testuser
    password: testpassword
  dependence_case: []
  cache:
    app_token: $.data.token
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 200
    message: 状态码不为200
  - name: 校验响应消息
    jsonpath: $.msg
    type: contains
    value: 成功
    message: 响应消息未包含"成功"
case_auth_innerLogin_02_user_not_exist:
  host: ${{host()}}
  url: /auth/innerLogin
  method: POST
  detail: 登录方法-内部接口,无验证码 - 用户名不存在
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: nonexistent_user
    password: testpassword
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 用户名不存在时状态码应非200
  - name: 校验响应消息
    jsonpath: $.msg
    type: contains
    value: 用户名或密码错误
    message: 响应消息未提示用户名或密码错误
case_auth_innerLogin_03_wrong_password:
  host: ${{host()}}
  url: /auth/innerLogin
  method: POST
  detail: 登录方法-内部接口,无验证码 - 密码错误
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: testuser
    password: wrong_password
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 密码错误时状态码应非200
  - name: 校验响应消息
    jsonpath: $.msg
    type: contains
    value: 用户名或密码错误
    message: 响应消息未提示用户名或密码错误
case_auth_innerLogin_04_empty_username:
  host: ${{host()}}
  url: /auth/innerLogin
  method: POST
  detail: 登录方法-内部接口,无验证码 - 用户名为空
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: ''
    password: testpassword
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 用户名为空时状态码应非200
  - name: 校验响应消息或参数错误信息
    jsonpath: $.msg
    type: contains
    value: 用户名不能为空
    message: 响应消息未提示用户名为空
  - name: 校验参数错误详情
    jsonpath: $.paramMsg.username
    type: contains
    value: 用户名不能为空
    message: 参数校验未指出用户名错误
case_auth_innerLogin_05_empty_password:
  host: ${{host()}}
  url: /auth/innerLogin
  method: POST
  detail: 登录方法-内部接口,无验证码 - 密码为空
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: testuser
    password: ''
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 密码为空时状态码应非200
  - name: 校验响应消息或参数错误信息
    jsonpath: $.msg
    type: contains
    value: 密码不能为空
    message: 响应消息未提示密码为空
  - name: 校验参数错误详情
    jsonpath: $.paramMsg.password
    type: contains
    value: 密码不能为空
    message: 参数校验未指出密码错误
case_auth_innerLogin_06_missing_username_field:
  host: ${{host()}}
  url: /auth/innerLogin
  method: POST
  detail: 登录方法-内部接口,无验证码 - 缺少用户名参数
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    password: testpassword
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 缺少用户名参数时状态码应非200
  - name: 校验响应消息或参数错误信息
    jsonpath: $.msg
    type: contains
    value: 缺少必填参数
    message: 响应消息未提示缺少必填参数
case_auth_innerLogin_07_missing_password_field:
  host: ${{host()}}
  url: /auth/innerLogin
  method: POST
  detail: 登录方法-内部接口,无验证码 - 缺少密码参数
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    username: testuser
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 缺少密码参数时状态码应非200
  - name: 校验响应消息或参数错误信息
    jsonpath: $.msg
    type: contains
    value: 缺少必填参数
    message: 响应消息未提示缺少必填参数
