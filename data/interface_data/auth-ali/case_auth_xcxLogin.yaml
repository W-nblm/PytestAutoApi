case_common:
  allureEpic: 标题：platform-Cloud-Plus微服务权限管理系统_接口文档
  allureFeature: 认证授权
  allureStory: 小程序登录(示例)
case_auth_xcxLogin_01_success:
  host: ${{host()}}
  url: /auth/xcxLogin
  method: POST
  detail: 小程序登录(示例) - 正向场景：提供有效js_code
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data: mock_valid_js_code_1234567890abcdef
  dependence_case: []
  cache:
    app_token: $.data.token
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 200
    message: 状态码不为200
  - name: 校验响应消息
    jsonpath: $.msg
    type: contains
    value: 成功
    message: 响应消息未包含"成功"字样
  - name: 校验返回数据不为空
    jsonpath: $.data
    type: not_eq
    value: null
    message: 登录成功但返回数据为空
  - name: 校验返回数据包含token
    jsonpath: $.data.token
    type: not_eq
    value: null
    message: 登录成功但未返回token
case_auth_xcxLogin_02_empty_code:
  host: ${{host()}}
  url: /auth/xcxLogin
  method: POST
  detail: 小程序登录(示例) - 异常场景：js_code为空
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data: ''
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 状态码为200，但预期非200（业务失败码）
  - name: 校验响应消息包含失败或参数错误提示
    jsonpath: $.msg
    type: contains
    value: 失败
    message: 响应消息未包含"失败"字样
case_auth_xcxLogin_03_invalid_code:
  host: ${{host()}}
  url: /auth/xcxLogin
  method: POST
  detail: 小程序登录(示例) - 异常场景：提供无效或过期js_code
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data: INVALID_OR_EXPIRED_JS_CODE_XXXXXX
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 状态码为200，但预期非200（业务失败码）
  - name: 校验响应消息包含失败或无效提示
    jsonpath: $.msg
    type: contains
    value: 失败
    message: 响应消息未包含"失败"字样
case_auth_xcxLogin_04_wrong_datatype:
  host: ${{host()}}
  url: /auth/xcxLogin
  method: POST
  detail: 小程序登录(示例) - 异常场景：请求体数据类型错误（期望string，发送object）
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    code: mock_js_code
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 状态码为200，但预期非200（通常为HTTP 400或业务错误码）
  - name: 校验响应消息包含错误提示
    jsonpath: $.msg
    type: contains
    value: 失败
    message: 响应消息未包含"失败"字样
