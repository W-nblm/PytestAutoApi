case_common:
  allureEpic: 标题：platform-Cloud-Plus微服务权限管理系统_接口文档
  allureFeature: 未分类
  allureStory: 邮件登录
case_auth_emailLogin_01:
  host: ${{host()}}
  url: /auth/emailLogin
  method: POST
  detail: 邮件登录 - 成功场景
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    email: valid_user@example.com
    password: ValidPassword123
  dependence_case: []
  assert:
  - name: 校验接口状态码
    jsonpath: $.code
    type: eq
    value: 200
    message: 状态码不为200
  - name: 校验响应消息
    jsonpath: $.msg
    type: contains
    value: 成功
    message: 响应消息不包含"成功"
  - name: 校验响应数据不为空（假设成功登录会返回token或其他用户信息）
    jsonpath: $.data
    type: not_eq
    value: null
    message: 成功登录时data字段为空
case_auth_emailLogin_02:
  host: ${{host()}}
  url: /auth/emailLogin
  method: POST
  detail: 邮件登录 - 异常场景：邮箱为空
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    email: ''
    password: ValidPassword123
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 邮箱为空时状态码不应为200
  - name: 校验响应消息包含邮箱不能为空提示
    jsonpath: $.msg
    type: contains
    value: 邮箱不能为空
    message: 未提示"邮箱不能为空"
case_auth_emailLogin_03:
  host: ${{host()}}
  url: /auth/emailLogin
  method: POST
  detail: 邮件登录 - 异常场景：密码为空
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    email: valid_user@example.com
    password: ''
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 密码为空时状态码不应为200
  - name: 校验响应消息包含密码不能为空提示
    jsonpath: $.msg
    type: contains
    value: 密码不能为空
    message: 未提示"密码不能为空"
case_auth_emailLogin_04:
  host: ${{host()}}
  url: /auth/emailLogin
  method: POST
  detail: 邮件登录 - 异常场景：邮箱格式不正确
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    email: invalid-email-format
    password: ValidPassword123
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 邮箱格式不正确时状态码不应为200
  - name: 校验响应消息包含邮箱格式错误提示
    jsonpath: $.msg
    type: contains
    value: 邮箱格式不正确
    message: 未提示"邮箱格式不正确"
case_auth_emailLogin_05:
  host: ${{host()}}
  url: /auth/emailLogin
  method: POST
  detail: 邮件登录 - 异常场景：用户不存在
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    email: non_existent_user@example.com
    password: AnyPassword123
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 用户不存在时状态码不应为200
  - name: 校验响应消息包含用户不存在或凭证错误提示
    jsonpath: $.msg
    type: contains
    value: 用户不存在
    message: 未提示"用户不存在"或"用户名或密码错误"
case_auth_emailLogin_06:
  host: ${{host()}}
  url: /auth/emailLogin
  method: POST
  detail: 邮件登录 - 异常场景：密码错误
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data:
    email: valid_user@example.com
    password: WrongPassword123
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 密码错误时状态码不应为200
  - name: 校验响应消息包含密码错误或凭证错误提示
    jsonpath: $.msg
    type: contains
    value: 密码错误
    message: 未提示"密码错误"或"用户名或密码错误"
case_auth_emailLogin_07:
  host: ${{host()}}
  url: /auth/emailLogin
  method: POST
  detail: 邮件登录 - 异常场景：请求体为空
  headers:
    Authorization: $cache{app_token}
    Content-Language: zh_CN
    App-Source: WObird
  requestType: json
  data: {}
  dependence_case: []
  assert:
  - name: 校验接口状态码非200
    jsonpath: $.code
    type: not_eq
    value: 200
    message: 请求体为空时状态码不应为200
  - name: 校验响应消息包含缺少参数提示
    jsonpath: $.msg
    type: contains
    value: 缺少参数
    message: 未提示"缺少参数"或"邮箱/密码不能为空"
